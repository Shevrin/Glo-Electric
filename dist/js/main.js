(()=>{"use strict";const e=({timing:e,draw:t,duration:s})=>{let o=performance.now();requestAnimationFrame((function l(c){let n=(c-o)/s;n>1&&(n=1);let r=e(n);t(r),n<1&&requestAnimationFrame(l)}))};(()=>{const t=document.querySelectorAll(".callback-btn"),s=document.querySelector(".button-services"),o=document.querySelector(".modal-overlay"),l=document.getElementById("callback"),c=l.querySelector("form"),n=c.querySelectorAll(".form-control"),r=document.querySelector('input[name="tel"]'),a=document.querySelector("body"),i=document.createElement("div"),d=t=>{t.preventDefault(),o.style.display="block",l.style.display="block",o.style.opacity=0,l.style.opacity=0,e({duration:130,timing:e=>e,draw(e){o.style.opacity=0+e,l.style.opacity=0+e}})};t.forEach((e=>e.addEventListener("click",d))),s.addEventListener("click",d),a.addEventListener("click",(t=>{t.preventDefault(),("modal-overlay"===t.target.className||t.target.closest(".modal-close"))&&(n.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success"),i.innerHTML=""})),e({duration:130,timing:e=>e,draw(e){Math.floor(10*l.style.opacity)>0?(l.style.opacity=1-e,o.style.opacity=1-e):(l.style.display="none",o.style.display="none")}})),t.target.classList.contains("feedback")&&r.classList.contains("success")&&(()=>{c.append(i);const e=new FormData(c),t={};var s;e.forEach(((e,s)=>{t[s]=e})),i.innerHTML="Идет отправка...",(s=t,fetch("../../server.php",{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))).then((e=>{console.log(e),i.innerHTML="Отправлено"})).catch((e=>{console.log("err"),i.innerHTML="Ошибка!"})).finally((()=>{n.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success")}))}))})()}))})(),(()=>{const e=document.querySelector(".up");e.style.display="none";const t=document.getElementById("scroll-1");window.addEventListener("scroll",(()=>{window.pageYOffset>500?e.style.display="block":e.style.display="none"})),e.addEventListener("click",((e,t,s="start")=>{t.addEventListener("click",(t=>{t.preventDefault(),e.scrollIntoView({behavior:"smooth",block:s})}))})(t,e,"end"))})(),(()=>{const e=document.querySelectorAll('input[name="tel"]');let t=/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;e.forEach((e=>{e.addEventListener("change",(()=>{e.classList.remove("error"),t.test(e.value)||(e.classList.add("error"),e.value=""),t.test(e.value)&&e.classList.add("success")}))}))})()})();