(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let c=performance.now();requestAnimationFrame((function o(s){let r=(s-c)/l;r>1&&(r=1);let n=e(r);t(n),r<1&&requestAnimationFrame(o)}))},t=(e,t=e,l="start")=>{t.addEventListener("click",(t=>{if(t.preventDefault(),e.getAttribute("href")){const t=e.getAttribute("href");document.querySelector(e.getAttribute("href")+t).scrollIntoView({behavior:"smooth",block:"start"})}else e.scrollIntoView({behavior:"smooth",block:l})}))};(()=>{const t=document.querySelectorAll(".callback-btn"),l=document.querySelector(".button-services"),c=document.querySelector(".services-elements").querySelectorAll(".element"),o=document.querySelector(".modal-overlay"),s=document.getElementById("callback"),r=s.querySelector("form"),n=r.querySelectorAll(".form-control"),a=document.querySelector('input[name="tel"]'),i=document.querySelector("body"),d=document.createElement("div"),u=t=>{t.preventDefault(),o.style.display="block",s.style.display="block",o.style.opacity=0,s.style.opacity=0,e({duration:130,timing:e=>e,draw(e){o.style.opacity=0+e,s.style.opacity=0+e}})};t.forEach((e=>e.addEventListener("click",u))),l.addEventListener("click",u),c.forEach((e=>e.addEventListener("click",u))),i.addEventListener("click",(t=>{t.preventDefault(),("modal-overlay"===t.target.className||t.target.closest(".modal-close"))&&(n.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success"),d.innerHTML=""})),e({duration:130,timing:e=>e,draw(e){Math.floor(10*s.style.opacity)>0?(s.style.opacity=1-e,o.style.opacity=1-e):(s.style.display="none",o.style.display="none")}})),t.target.classList.contains("feedback")&&a.classList.contains("success")&&(()=>{r.append(d);const e=new FormData(r),t={};var l;e.forEach(((e,l)=>{t[l]=e})),d.innerHTML="Идет отправка...",(l=t,fetch("../../server.php",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))).then((e=>{console.log(e),d.innerHTML="Отправлено"})).catch((e=>{console.log("err"),d.innerHTML="Ошибка!"})).finally((()=>{n.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success")}))}))})()}))})(),(()=>{const e=document.querySelector(".up");e.style.display="none";const l=document.getElementById("scroll-1");window.addEventListener("scroll",(()=>{window.pageYOffset>500?e.style.display="block":e.style.display="none"})),e.addEventListener("click",t(l,e,"end"))})(),document.querySelector(".top-menu").querySelectorAll("ul>li>a").forEach((e=>t(e))),(()=>{const e=document.querySelectorAll('input[name="tel"]');let t=/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;e.forEach((e=>{e.addEventListener("change",(()=>{e.classList.remove("error"),t.test(e.value)||(e.classList.add("error"),e.value=""),t.test(e.value)&&e.classList.add("success")}))}))})(),document.querySelector(".services-elements").querySelectorAll(".element"),(()=>{const e=document.querySelector(".accordeon"),t=document.querySelectorAll(".accordeon > .element");e.addEventListener("click",(e=>{t.forEach((t=>{t!=e.target.closest(".element")||t.classList.contains("active")?(t.classList.remove("active"),t.children[1].style.display="none"):(t.classList.toggle("active"),t.children[1].style.display="block")}))}))})()})();