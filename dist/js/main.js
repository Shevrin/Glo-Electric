(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let s=performance.now();requestAnimationFrame((function o(c){let r=(c-s)/l;r>1&&(r=1);let a=e(r);t(a),r<1&&requestAnimationFrame(o)}))},t=(e,t=e,l="start")=>{t.addEventListener("click",(t=>{if(t.preventDefault(),e.getAttribute("href")){const t=e.getAttribute("href");document.querySelector(e.getAttribute("href")+t).scrollIntoView({behavior:"smooth",block:"start"})}else e.scrollIntoView({behavior:"smooth",block:l})}))};(()=>{const t=document.querySelectorAll(".callback-btn"),l=document.querySelector(".button-services"),s=document.querySelector(".services-elements").querySelectorAll(".element"),o=document.querySelector(".modal-overlay"),c=document.getElementById("callback"),r=c.querySelector("form"),a=r.querySelectorAll(".form-control"),n=document.querySelector('input[name="tel"]'),i=document.querySelector("body"),d=document.createElement("div"),u=t=>{t.preventDefault(),o.style.display="block",c.style.display="block",o.style.opacity=0,c.style.opacity=0,e({duration:130,timing:e=>e,draw(e){o.style.opacity=0+e,c.style.opacity=0+e}})};t.forEach((e=>e.addEventListener("click",u))),l.addEventListener("click",u),s.forEach((e=>e.addEventListener("click",u))),i.addEventListener("click",(t=>{t.preventDefault(),("modal-overlay"===t.target.className||t.target.closest(".modal-close"))&&(a.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success"),d.innerHTML=""})),e({duration:130,timing:e=>e,draw(e){Math.floor(10*c.style.opacity)>0?(c.style.opacity=1-e,o.style.opacity=1-e):(c.style.display="none",o.style.display="none")}})),t.target.classList.contains("feedback")&&n.classList.contains("success")&&(()=>{r.append(d);const e=new FormData(r),t={};var l;e.forEach(((e,l)=>{t[l]=e})),d.innerHTML="Идет отправка...",(l=t,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))).then((e=>{console.log(e),d.innerHTML="Отправлено"})).catch((e=>{console.log("err"),d.innerHTML="Ошибка!"})).finally((()=>{a.forEach((e=>{e.value="",e.classList.remove("error"),e.classList.remove("success")}))}))})()}))})(),(()=>{const e=document.querySelector(".up");e.style.display="none";const l=document.getElementById("scroll-1");window.addEventListener("scroll",(()=>{window.pageYOffset>500?e.style.display="block":e.style.display="none"})),e.addEventListener("click",t(l,e,"end"))})(),document.querySelector(".top-menu").querySelectorAll("ul>li>a").forEach((e=>t(e))),document.querySelector(".services-elements").querySelectorAll(".element"),(()=>{const e=document.querySelector(".accordeon"),t=document.querySelectorAll(".accordeon > .element");e.addEventListener("click",(e=>{t.forEach((t=>{t!=e.target.closest(".element")||t.classList.contains("active")?(t.classList.remove("active"),t.children[1].style.display="none"):(t.classList.toggle("active"),t.children[1].style.display="block")}))}))})(),(()=>{const t=document.getElementById("scroll-1").querySelectorAll(".item");let l,s=0;const o=()=>{var l,o;l=t,o=s,e({duration:630,timing:e=>e,draw(e){Math.floor(10*l[o].style.opacity)>0?l[o].style.opacity=1-e:l[o].style.display="none"}}),s++,s>=t.length&&(s=0),((t,l,s)=>{t[l].style.opacity=0,t[l].style.display="block",e({duration:630,timing:e=>e,draw(e){t[l].style.opacity=0+e}})})(t,s)};((e=3e3)=>{l=setInterval(o,e)})()})(),(()=>{const e=document.querySelectorAll('input[name="fio"]'),t=document.querySelectorAll('input[name="tel"]');let l=/^([а-яА-ЯёЁ]+\s)*[а-яА-ЯёЁ]*$/,s=/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;t.forEach((e=>{e.addEventListener("keyup",(()=>{e.classList.remove("error"),e.value=e.value.replace(/[^\+\d]/g,"")}))})),t.forEach((e=>{e.addEventListener("change",(()=>{s.test(e.value)||(e.classList.add("error"),e.value=""),s.test(e.value)&&e.classList.add("success")}))})),e.forEach((e=>{e.addEventListener("keyup",(()=>{e.classList.remove("error"),e.value=e.value.replace(/[^а-яА-Я\s]/g,"")}))})),e.forEach((e=>{e.addEventListener("change",(()=>{e.classList.remove("error"),l.test(e.value)||(e.classList.add("error"),e.value=""),l.test(e.value)&&e.classList.add("success")}))}))})()})();